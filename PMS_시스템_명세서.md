# 프로젝트 관리 시스템 (PMS) 기능 명세서 (v1.0)

본 문서는 프론트엔드 디자인 및 모킹 데이터 기반으로 구축된 PMS 게시판 시스템의 디자인 가이드, 기능 정의 및 권한 체계를 정리한 문서입니다. 이를 바탕으로 향후 데이터베이스 설계 및 백엔드 구현을 진행합니다.

---

## 1. 디자인 가이드라인 (UI/UX)

### 1.1 디자인 컨셉

- **홈페이지형 데스크탑 디자인**: 앱 스타일이 아닌 넓은 화면을 활용한 웹 사이트 레이아웃.
- **메인 컬러**: 하늘색(`#0ea5e9`, `#0284c7`)을 기본 버튼 및 강조 컬러로 사용.
- **가독성**: 텍스트 잘림 방지, 여유로운 여백, 카드형 레이아웃을 통한 정보 분리.

### 1.2 주요 디자인 요소

- **상단 고정 헤더 (Sticky Header)**: 게시판 목록 스크롤 시 테이블 헤더(`상태`, `제목`, `작성자` 등)를 상단에 고정하여 가독성 확보.
- **배지(Badge) 시스템**:
  - `공지`: 챠콜색(`status-notice`, `#374151`)
  - `진행중`: 파란색
  - `보류됨`: 주황색(배경: `#ffedd5`, 텍스트: `#9a3412`, 테두리: `#ffddd2`)
  - `완료됨`: 녹색
  - `비밀글`: 잠금 아이콘과 함께 표시
- **공지사항 행**: 목록에서 연한 노란색 배경색 적용, 호버 시 조금 더 진한 노란색(`#fef9e7`)으로 변화.
- **모달(Modal)**: 상태 변경 및 댓글 삭제 시 프로젝트 디자인 언어(하늘색 버튼, 둥근 모서리)에 맞춘 커스텀 모달 노출.

---

## 2. 기능 명세

### 2.1 게시판 목록 (Board List)

- **무한 스크롤 (Infinite Scroll)**: 하단 도달 시 데이터를 추가로 로드 (현재 모킹 데이터 200개 적용).
- **고급 필터링**:
  - **프로젝트 필터**: 가나다순 정렬 (한글 우선 -> 영어 A-Z).
  - **상태 필터**: 모든 상태 또는 특정 상태 선택.
  - **기간 검색**: 시작일 ~ 종료일 선택 검색.
  - **통합 검색**: 제목, 내용, 작성자, 태그, 댓글 작성자 등을 포함한 검색.
- **작성일 표시**: `YYYY-MM-DD` 형식 준수.

### 2.2 게시글 작성 (Write)

- **필수 입력 항목**: 프로젝트 선택, 제목, 내용(에디터), 태그 선택. (`*` 표시로 필수 명시)
- **서식 기능**: Lexical 에디터를 사용하여 굵게, 기울임, 밑줄, 취소선 지원.
- **템플릿 기능**: '템플릿 삽입' 버튼 클릭 시 정해진 가이드 텍스트 자동 삽입.
- **파일 업로드**:
  - 드래그 앤 드롭 지원.
  - **보안**: `.exe` 등 실행 파일 업로드 차단 (Allowlist 기반 검증).

### 2.3 게시글 상세 (Detail)

- **조회수**: 게시글 진입 시 세션 기반으로 조회수 증가.
- **상태 변경**: 관리자 권한 시 드롭다운으로 즉시 변경 가능하며, 변경 전 확인 모달 노출.
- **첨부파일**: 본문 하단에 위치, 파일명과 사이즈 표시 및 아이콘 형태의 내려받기 버튼 제공.
- **작업공수**: 관리자 전용 필드, 태그 섹션 옆에 위치하여 시간 단위로 입력 및 표시.

### 2.4 댓글 및 내부 메모 (Comments & Internal Memo)

- **공개 댓글**: 누구나 작성 가능, **본인 작성 댓글**은 연한 배경색으로 구분.
- **내부 메모**: **관리자 전용**, 게시글 상세 우측(댓글 섹션 옆)에 위치하여 관리자 간 정보 공유.
- **글자 수 제한**: 최대 200자 제한, 실시간 글자 수 카운터(`현재글자수/200`) 표시.
- **조작**: 댓글 수정/삭제 시 확인 모달 노출 및 즉각 반영.

---

## 3. 권한 체계 (Role-Based Access Control)

### 3.1 관리자 (Admin - 김관리자)

- **게시글 조회**: 시스템 내 모든 게시글 조회 가능.
- **상태 관리**: 모든 게시글의 상태를 자유롭게 변경 가능.
- **내부 메모/공수**: 내부 메모 작성/조회 및 작업공수(Work Hours) 입력/조회 가능.
- **비밀글**: 모든 비밀글 열람 가능.

### 3.2 담당자 (Manager - 박담당자, 정개발자)

- **게시글 조회**: **자신이 작성한 글** + **상태가 '공지'인 모든 글**만 목록에 표시 및 접근 가능.
- **상태 관리**: 상태를 변경할 수 없으며, 읽기 전용 배지로만 표시됨.
- **내부 메모/공수**: 내부 메모 섹션 및 작업공수 정보가 완전히 숨겨짐.
- **비밀글**: 본인이 작성한 비밀글만 열람 가능.

---

## 4. 기술 스택 (Current Implementation)

- **Frontend**: Next.js (App Router), TypeScript
- **State Management**: Zustand (Persist Middleware 사용으로 새로고침 시 로그인 유지)
- **Styling**: Pure CSS (Variable 기반 테마 관리)
- **Editor**: Lexical Editor
- **Date Utility**: date-fns
- **Mocking**: Client-side store logic (`mockData.ts`, `boardStore.ts`)

---

## 5. 향후 DB 설계 시 참고사항 (Data Model)

- **User**: `id`, `name`, `role` (admin/manager), `assignedProjectIds`.
- **Project**: `id`, `name`.
- **Board**: `id`, `projectId`, `title`, `content`, `authorId`, `statusId`, `tagIds`, `viewCount`, `workHours`, `isNotice`, `isSecret`, `createdAt`, `updatedAt`.
- **Comment**: `id`, `boardId`, `authorId`, `content`, `isInternal`, `createdAt`.
- **File**: `id`, `boardId`, `fileName`, `fileSize`, `fileUrl`.
